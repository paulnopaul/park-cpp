language: cpp
os: linux
dist: xenial
compiler: gcc


before_script:
  - cd iz1
  - mkdir build
  - cd build

jobs: 
  #
  # Valgrind
  #
  - os: linux
    env:
      - TEST="Valgrind"
    addons:
      apt:
        packages:
          - valgrind
    script:
      - cmake ..
      - make
      - ctest -T memcheck

  #
  # CppCheck
  #
  - os: linux
    env:
      - TEST="CppCheck"

    script:
      - cmake -DENABLE_CPPCHECK=ON -DCMAKE_CXX_COMPILER="g++-6" ..
      - make
      - make checkk
